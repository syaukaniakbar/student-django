{% extends 'base.html' %}

{% block title %}{% if form.instance.pk %}Edit Mahasiswa{% else %}Tambah Mahasiswa{% endif %}{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
    <h2>{% if form.instance.pk %}Edit Mahasiswa{% else %}Tambah Mahasiswa{% endif %}</h2>
    <a href="{% url 'admin_dashboard' %}" class="btn btn-secondary">Kembali</a>
</div>

<div class="card">
    <div class="card-body">
        <form method="post" action="{% if form.instance.pk %}{% url 'mahasiswa_update' form.instance.pk %}{% else %}{% url 'mahasiswa_store' %}{% endif %}">
            {% csrf_token %}
            
            <div class="row">
                <div class="col-md-6">
                    <div class="mb-3">
                        <label for="{{ form.nim.id_for_label }}" class="form-label">NIM</label>
                        {{ form.nim }}
                        {% if form.nim.errors %}
                            <div class="text-danger">{{ form.nim.errors }}</div>
                        {% endif %}
                    </div>
                    
                    <div class="mb-3">
                        <label for="{{ form.nama_lengkap.id_for_label }}" class="form-label">Nama Lengkap</label>
                        {{ form.nama_lengkap }}
                        {% if form.nama_lengkap.errors %}
                            <div class="text-danger">{{ form.nama_lengkap.errors }}</div>
                        {% endif %}
                    </div>
                    
                    <div class="mb-3">
                        <label for="{{ form.email.id_for_label }}" class="form-label">Email</label>
                        {{ form.email }}
                        {% if form.email.errors %}
                            <div class="text-danger">{{ form.email.errors }}</div>
                        {% endif %}
                    </div>
                    
                    <div class="mb-3">
                        <label for="{{ form.tanggal_lahir.id_for_label }}" class="form-label">Tanggal Lahir</label>
                        {{ form.tanggal_lahir }}
                        {% if form.tanggal_lahir.errors %}
                            <div class="text-danger">{{ form.tanggal_lahir.errors }}</div>
                        {% endif %}
                    </div>
                    
                    <div class="mb-3">
                        <label for="{{ form.jenis_kelamin.id_for_label }}" class="form-label">Jenis Kelamin</label>
                        {{ form.jenis_kelamin }}
                        {% if form.jenis_kelamin.errors %}
                            <div class="text-danger">{{ form.jenis_kelamin.errors }}</div>
                        {% endif %}
                    </div>
                    
                    <div class="mb-3">
                        <label for="{{ form.jurusan.id_for_label }}" class="form-label">Jurusan</label>
                        {{ form.jurusan }}
                        {% if form.jurusan.errors %}
                            <div class="text-danger">{{ form.jurusan.errors }}</div>
                        {% endif %}
                    </div>
                </div>
                
                <div class="col-md-6">
                    <div class="mb-3">
                        <label for="{{ form.fakultas.id_for_label }}" class="form-label">Fakultas</label>
                        {{ form.fakultas }}
                        {% if form.fakultas.errors %}
                            <div class="text-danger">{{ form.fakultas.errors }}</div>
                        {% endif %}
                    </div>
                    
                    <div class="mb-3">
                        <label for="{{ form.angkatan.id_for_label }}" class="form-label">Angkatan</label>
                        {{ form.angkatan }}
                        {% if form.angkatan.errors %}
                            <div class="text-danger">{{ form.angkatan.errors }}</div>
                        {% endif %}
                    </div>
                    
                    <div class="mb-3">
                        <label for="{{ form.ipk.id_for_label }}" class="form-label">IPK</label>
                        {{ form.ipk }}
                        {% if form.ipk.errors %}
                            <div class="text-danger">{{ form.ipk.errors }}</div>
                        {% endif %}
                    </div>
                    
                    <div class="mb-3">
                        <label for="{{ form.sks_lulus.id_for_label }}" class="form-label">SKS Lulus</label>
                        {{ form.sks_lulus }}
                        {% if form.sks_lulus.errors %}
                            <div class="text-danger">{{ form.sks_lulus.errors }}</div>
                        {% endif %}
                    </div>
                    
                    <div class="mb-3">
                        <label for="{{ form.status.id_for_label }}" class="form-label">Status</label>
                        {{ form.status }}
                        {% if form.status.errors %}
                            <div class="text-danger">{{ form.status.errors }}</div>
                        {% endif %}
                    </div>
                    
                    <div class="mb-3">
                        <label for="{{ form.no_telepon.id_for_label }}" class="form-label">No. Telepon</label>
                        {{ form.no_telepon }}
                        {% if form.no_telepon.errors %}
                            <div class="text-danger">{{ form.no_telepon.errors }}</div>
                        {% endif %}
                    </div>
                </div>
            </div>
            
            <div class="mb-3">
                <label for="{{ form.alamat.id_for_label }}" class="form-label">Alamat</label>
                {{ form.alamat }}
                {% if form.alamat.errors %}
                    <div class="text-danger">{{ form.alamat.errors }}</div>
                {% endif %}
            </div>
            
            <div class="row">
                <div class="col-md-4">
                    <div class="mb-3">
                        <label for="{{ form.kota.id_for_label }}" class="form-label">Kota</label>
                        {{ form.kota }}
                        {% if form.kota.errors %}
                            <div class="text-danger">{{ form.kota.errors }}</div>
                        {% endif %}
                    </div>
                </div>
                
                <div class="col-md-4">
                    <div class="mb-3">
                        <label for="{{ form.provinsi.id_for_label }}" class="form-label">Provinsi</label>
                        {{ form.provinsi }}
                        {% if form.provinsi.errors %}
                            <div class="text-danger">{{ form.provinsi.errors }}</div>
                        {% endif %}
                    </div>
                </div>
                
                <div class="col-md-4">
                    <div class="mb-3">
                        <label for="{{ form.nama_wali.id_for_label }}" class="form-label">Nama Wali</label>
                        {{ form.nama_wali }}
                        {% if form.nama_wali.errors %}
                            <div class="text-danger">{{ form.nama_wali.errors }}</div>
                        {% endif %}
                    </div>
                </div>
            </div>
            
            <div class="row">
                <div class="col-md-6">
                    <div class="mb-3">
                        <label for="{{ form.no_telepon_wali.id_for_label }}" class="form-label">No. Telepon Wali</label>
                        {{ form.no_telepon_wali }}
                        {% if form.no_telepon_wali.errors %}
                            <div class="text-danger">{{ form.no_telepon_wali.errors }}</div>
                        {% endif %}
                    </div>
                </div>
            </div>
            
            <button type="submit" class="btn btn-success">
                {% if form.instance.pk %}Update{% else %}Simpan{% endif %}
            </button>
            {% if form.instance.pk %}
            <a href="{% url 'admin_dashboard' %}" class="btn btn-secondary">Batal</a>
            {% else %}
            <a href="{% url 'admin_dashboard' %}" class="btn btn-secondary">Batal</a>
            {% endif %}
        </form>
    </div>
</div>
{% endblock %}